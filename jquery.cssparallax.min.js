/* CSSparallax | (c)2013 - Moritz Meisselbach | MIT License */
(function(e){e.fn.parallax=function(t){var n=e.extend({interval:33,speedX:400,speedY:100,falloff:.4,focus:.9,dof:null,resize:false},t);return this.each(function(){function h(e){for(var t=0;t<i;t++){var s=-e[0]*(-n.focus+(t+1)*n.falloff),o=-e[1]*(t+1)*n.falloff;attr="translate3d("+s+"px,"+o+"px,0)";r[t].style.webkitTransform=attr;r[t].style.MozTransform=attr;r[t].style.transform=attr}}var t=e(this),r=t.find("ul li"),i=r.length,s=[],o,u=[],a,f=[t[0].offsetWidth,t[0].offsetHeight];for(var l=0;l<i;l++){s[l]=r[l].id;if(n.dof!=null){var c="blur("+Math.abs(-n.dof+l*1)*1.2+"px)";r[l].setAttribute("style","-webkit-filter:"+c)}}t.hover(function(){o=setInterval(function(){a=[t[0].style["left"],t[0].style["top"]];if(n.resize){f=[t[0].offsetWidth,t[0].offsetHeight]}e(document).one("mousemove",function(e){u=[((e.pageX-a[0])/f[0]-.5)*n.speedX,((e.pageY-a[1])/f[1]-.5)*n.speedY];h(u)})},n.interval)},function(){clearInterval(o)})})}})(jQuery)